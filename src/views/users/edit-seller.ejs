<%- include('../partials/head') %>
<body>
	<%- include('../partials/header') %>
	<main class="signin-main">
		<h2 class="titulo">¡Edita tus datos!</h2>
		<form action="/users/edit-seller/<%= user.id %>?_method=PUT" method="post" class="formulario" enctype="multipart/form-data">
			<div class="input-container">
				<input
					class="text-box  <%= locals.errors !== undefined ? locals.errors && errors.user_name === undefined ? 'correct' : 'incorrect' : ''%>"
					type="text"
					name="user_name"
					id="user_name"
					placeholder="Razón social (tienda/finca/familia)"
					minlength="2"
					required
					value="<%= user.user_name %>"
				
				/>
				<% if (locals.errors && errors.user_name) { %>
					<label class="checked" for="user_name">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="user_name">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
				<% } %>  
			</div>
			<% if (locals.errors && errors.user_name) { %>
				<span class="error"><%= errors.user_name.msg %> </span>
			<% } else if(locals.errors){ %>
				<span class="error" style="color: rgba(87, 133, 108, 0.5)">Listop <i class="far fa-check-circle"></i></span>
			<% } else {%>
				<span class="error" style="color: inherit;"></span>
				<% } %> 
			<div class="input-container">
				<input
					class="text-box <%= locals.errors !== undefined ? locals.errors && errors.names === undefined ? 'correct' : 'incorrect' : ''%> "
					type="text"
					name="names"
					id="names"
					placeholder="Nombres completos"
					minlength="2"
					value="<%= user.names %>"
					required
				/>
				<% if (locals.errors && errors.names) { %>
					<label class="checked" for="names">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="names">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
				<% } %>  
			</div>
			<% if (locals.errors && errors.names) { %>
				<span class="error"><%= errors.names.msg %> </span>
			<% } else {%>
				<span class="error" style="color: inherit;"></span>
			<% } %>
			<div class="input-container">
				<input
					class="text-box <%= locals.errors !== undefined ? locals.errors && errors.surname === undefined ? 'correct' : 'incorrect' : ''%>"
					type="text"
					name="surname"
					id="surname"
					placeholder="Apellidos completos"
					minlength="2"
					value="<%= user.surname %>"
					required
				/>
				<% if (locals.errors && errors.surname) { %>
					<label class="checked" for="surname">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="surname">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
				<% } %>  
			</div>
			<% if (locals.errors && errors.surname) { %>
				<span class="error"><%= errors.surname.msg %> </span>
			<% } else {%>
				<span class="error" style="color: inherit;"></span>
			<% } %>
			<input class="text-box file-field" type="file" name="photo" id="photo" />
			<label for="photo" class="text-box label-file"><i class="far fa-user-circle"></i> Sube una foto para tu perfil</label>
				<% if (locals.errors && errors.photo) { %>
					<span class="error"><%= errors.photo.msg %> </span>
				<% } else {%>
					<span class="error" style="color: inherit;"></span>
				<% } %>
			<div class="input-container">
				<input
					class="text-box <%= locals.errors !== undefined ? locals.errors && errors.phone === undefined ? 'correct' : 'incorrect' : ''%>"
					type="tel"
					name="phone"
					id="phone"
					placeholder="Número de celular"
					minlength="9"
					value="<%= user.phone %>"
				/>

				<% if (locals.errors && errors.phone) { %>
					<label class="checked" for="phone">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="phone">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
					<% } %>  
				</div>
			<% if (locals.errors && errors.phone) { %>
				<span class="error"><%= errors.phone.msg %> </span>
			<% } else {%>
				<span class="error" style="color: inherit;"></span>
			<% } %>
			<div class="input-container">
				<input 
					class="text-box <%= locals.errors !== undefined ? locals.errors && errors.email === undefined ? 'correct' : 'incorrect' : ''%>" 
					type="email" 
					name="email" 
					id="email" 
					placeholder="Correo electrónico" 
					value="<%= user.email %>"
					required
				/>
				<% if (locals.errors && errors.email) { %>
					<label class="checked" for="email">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="email">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
					<% } %>  
			</div>
			<% if (locals.errors && errors.email) { %>
				<span class="error"><%= errors.email.msg %> </span>
			<% } else {%>
				<span class="error" style="color: inherit;"></span>
			<% } %>
			<div class="input-container">
				<input
				class="text-box <%= locals.errors !== undefined ? locals.errors && errors.password === undefined ? 'correct' : 'incorrect' : ''%>"
				type="password"
				name="password"
				id="pass"
				placeholder="Contraseña"
				minlength="10"
				required
			/>
				<% if (locals.errors && errors.password) { %>
					<label class="checked" for="pass">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="pass">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
				<% } %>  
			</div>
			<% if (locals.errors && errors.password) { %>
				<span class="error"><%= errors.password.msg %> </span>
			<% } else {%>
				<span class="error" style="color: inherit;"></span>
			<% } %>
			<div class="input-container">
				<input
					class="text-box <%= locals.errors !== undefined ? locals.errors && errors.pass_confirm === undefined ? 'correct' : 'incorrect' : ''%>"
					type="password"
					name="pass_confirm"
					id="pass_confirm"
					placeholder="Confirma tu contraseña"
					minlength="10"
					required
				/>
				<% if (locals.errors && errors.pass_confirm) { %>
					<label class="checked" for="pass_confirm">
						<i class="fas fa-times" style="color: #cc0000"></i>
					</label>
				<% } else if(locals.errors){ %>
					<label class="checked" for="pass_confirm">
						<i class="fas fa-check" style="color: #5fab70"></i>
					</label>
				<% } else {%>
				<% } %>  
			</div>
				<% if (locals.errors && errors.pass_confirm) { %>
					<span class="error"><%= errors.pass_confirm.msg %> </span>
				<% } else {%>
					<span class="error" style="color: inherit;"></span>
				<% } %>
			<div class="check">
				<input class="slides" type="checkbox" name="agree_terms_conditions" id="agree_terms_conditions" <%= locals.old !== undefined && old.agree_terms_conditions !== undefined ? "checked" : '' %>/>
				<label for="agree_terms_conditions">Acepto los terminos y condiciones de uso</label>
			</div>
			<div class="check">
				<input class="slides" type="checkbox" name="agree_data" id="agree_data" <%= locals.old !== undefined && old.agree_data !== undefined ? "checked" : '' %> />
				<label for="agree_data">Acepto las politicas de tratamientos de datos</label>
			</div>
			<button type="submit" class="submit">Actualizar</button>
		</form>
	</main>
	<%- include('../partials/footer') %>
</body>
